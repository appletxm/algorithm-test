<!DOCTYPE html>

<html lang="en" style="font-size: 100px;">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=Edge">
	<meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
	<meta name="format-detection" content="telephone=no">
  <title>es6 feature test</title>
  <link rel="icon" href="assets/images/logo.ico" type="image/png">
  <style>
    body{
      font-size: .12rem;
    }
  </style>
</head>

<body>
  <!-- <script src="https://google.github.io/traceur-compiler/bin/traceur.js"></script> -->
  <!-- <script src="https://google.github.io/traceur-compiler/bin/BrowserSystem.js"></script> -->
  <!-- <script src="https://google.github.io/traceur-compiler/src/bootstrap.js"></script> -->
  <input type="file" id="test-file-txt">

  <script src="assets/js/BrowserSystem.js"></script>
  <script type="module">
    // import test from './src/test.js'
    import sortAlgorithm from './src/algorithm-sort.js'
    import Score from './src/Score.js'
    import List from './src/List.js'
    import { baseChange, convertTo10 } from './src/base-change.js'
    import SortBasic from './src/algorithm-sort-basic.js'
    import isPalindrome from './src/is-palindrome.js'
    import { factorial2, factorial } from './src/factorial.js'
    import LinkList from './src/LinkList.js'
    import Dictionary from './src/Dictionary.js'
    import dicStatsWord from './src/dic-stats-word.js'
    import HashTable from './src/HashTable.js'
    import HashTableOpenLink from './src/HashTableOpenLink.js'
    import genStudentData from './src/hash-table-score.js'
    import Set from './src/Set.js'
    import BST from './src/BST.js'
    import Sort, {quickSort, qSort} from './src/Sort.js'
    import { seqSearch, binSearch } from './src/Search.js'

    sortAlgorithm.bubbule([3, 10, 2, 1])
    sortAlgorithm.selectionSort([3, 10, 2, 1])

    const jackieScore = new Score('jackie')
    jackieScore.addScore([90, 80, 79])
    const jackieScoreAverage = jackieScore.getScoreAverage()
    console.info('jackie score average:', jackieScoreAverage)

    console.info('**********list*******')
    const list = new List([2, 'a', 'd', 1, '05'])
    // list.insertBiggerThen(1)
    list.insertBiggerThen('quit')
    list.insertBiggerThen(0)

    const lessList = new List([2, 'a', 'd', 1, '05'])
    lessList.insertLessThen(0)
    lessList.insertLessThen('3')

    console.info('**********stack*******')
    const strb2 = baseChange(10, 2)
    console.info(10, '->', strb2)
    const strb8 = baseChange(500, 8)
    console.info(500, '->', strb8)
    const strb16 = baseChange(500, 16)
    console.info(500, '->', strb16)

    console.info(strb2, '->', convertTo10(strb2, 2, 10))
    console.info(strb8, '->', convertTo10(strb8, 8, 10))
    console.info(strb16, '->', convertTo10(strb16, 16, 10))

    const sortBasic = new SortBasic()
    sortBasic.doSort([8, 5, 66, 52, 93, 45, 32, 21, 88, 79, 21, 34, 67])

    console.info('-----isPalindrome aba:', isPalindrome('aba'), ' string:', isPalindrome('string'))
    console.info('-----factorial 3:', factorial(3), ' 4:', factorial(4), ' 5:', factorial(5), ' ', factorial2(3), factorial2(4), factorial2(5))

    console.info('**********link list*******')
    const linkList = new LinkList()
    linkList.insert('Conway', 'head')
    linkList.insert('Russellville', 'Conway')
    linkList.insert('Carlisle', 'Russellville')
    linkList.insert('Alma', 'Carlisle')
    linkList.display()
    linkList.remove('Carlisle')
    linkList.display()

    console.info('*****************Dictionary*****************')
    const dic = new Dictionary()
    dic.add('Mike', '123')
      .add('Raymond', '125')
      .add('Jennifer', '987')
      .add('Jonathan', '666')
      .add('David', '345')
      .add('Cynthia', '456')
    console.info('David\'s extension: ' + dic.find('David'))
    console.info('count: ' + dic.count())
    dic.showAll()
    dic.remove('David')
    console.info('after remove count: ' + dic.count())
    dic.showAll()
    dic.clear()
    console.info('after clear count:', dic.count())

    document.querySelector('#test-file-txt').addEventListener('change', function(e){
      const file = e.target.files[0]
      const reader = new FileReader()
      reader.readAsText(file, 'utf8')
      reader.onload = function(e) {
        console.info(e.target.result)
      }
      reader.onprogress = function(e) {
        console.info(e.loaded, e.total)
      }
    }, false)

    dicStatsWord('the brown fox jumped over the blue fox')

    console.info('*****************Has Table*****************')
    const hashTable = new HashTable()
    hashTable
      .put('David', 'David')
      .put('Jennifer', 'Jennifer')
      .put('Donnie', 'Donnie')
      .put('Raymond', 'Raymond')
      .put('Cynthia', 'Cynthia')
      .put('Mike', 'Mike')
      .put('Clayton', 'Clayton')
      .put('Danny', 'Danny')
      .put('Jonathan', 'Jonathan')
    hashTable.showDistro()

    const students = genStudentData(10)
    const hashStudent = new HashTable()
    students.forEach(student => {
      hashStudent.put(student, student.substr(9))
    })
    hashStudent.showDistro()
    console.info(students[0], ':', hashStudent.get(students[0]))

    const hashTableLink = new HashTableOpenLink()
    hashTableLink
      .put('David', 'David')
      .put('Jennifer', 'Jennifer')
      .put('Donnie', 'Donnie')
      .put('Raymond', 'Raymond')
      .put('Cynthia', 'Cynthia')
      .put('Mike', 'Mike')
      .put('Clayton', 'Clayton')
      .put('Danny', 'Danny')
      .put('Jonathan', 'Jonathan')
    hashTableLink.showDistro()
    console.info('Clayton:', hashTableLink.get('Clayton'))

    console.info('*****************Set*****************')
    const set = new Set()
    set.add('David')
    set.add('Jennifer')
    set.add('Cynthia')
    set.add('Mike')
    set.add('Raymond')
    if (!set.add('Mike')) {
      console.info('Can\'t add Mike, muse already be in set')
    }
    const set2 = new Set()
    set2.add('Alisa')
    set2.add('Clayton')
    set2.add('Mike')

    const unionSet = set.union(set2)
    unionSet.show()
    const intersectSet = set.intersect(set2)
    intersectSet.show()

    const set3 = new Set()
    set3.add('Mike')
    const isSubSet = set2.subset(set)
    console.info('set2 is subset for set:', set.dataSore, set2.dataSore, set2.subset(set))
    console.info('set3 is subset for set:', set.dataSore, set3.dataSore, set3.subset(set))
    console.info('difference set between set2 and set3:', set2.dataSore, set3.dataSore, set2.difference(set3).dataSore)

    const set4 = new Set()
    set4.add(12)
    set4.add(8)
    set4.add(32)
    set4.add(23)
    set4.add(5)
    set4.add(11)
    console.info(set4.dataSore, `higher 3 is: ${set4.higher(3)}`)
    console.info(set4.dataSore, `lower 30 is: ${set4.lower(30)}`)

    console.info('*****************BST*****************')
    const bst = new BST()
    bst.insert(23)
    bst.insert(54)
    bst.insert(13)
    bst.insert(7)
    bst.insert(9)
    bst.insert(15)
    bst.insert(46)
    bst.insert(77)
    bst.insert(42)
    bst.insert(18)
    bst.insert(11)
    bst.insert(19)
    bst.insert(17)
    bst.insert(14)
    console.info('inorder traversal: ')
    bst.inOrder(bst.root)
    console.info('preorder traversal: ')
    bst.preOrder(bst.root)
    console.info('preorder traversal: ')
    bst.postOrder(bst.root)
    console.info('find max and min:', bst.getMin(), bst.getMax())
    console.info('find some data: 9', bst.search(9), ' 54:', bst.search(54))
    console.info('find min right node for root:', bst.getSmallestRightNode(bst.root.right))
    console.info('find max left node for root:', bst.getBiggestLeftNode(bst.root.left))
    // bst.remove(54)
    // bst.preOrder(bst.root)
    bst.remove(13)
    bst.preOrder(bst.root)

    console.info('*****************Sort*****************')
    const myNumbers = new Sort(100)
    myNumbers.setData()
    console.info(myNumbers.dataStore)
    const bubbleData = JSON.parse(JSON.stringify(myNumbers.dataStore))
    const selectData = JSON.parse(JSON.stringify(myNumbers.dataStore))
    const quickData = JSON.parse(JSON.stringify(myNumbers.dataStore))

    // console.info(myNumbers.toString())
    const bubbleStart = new Date() - 0
    myNumbers.bubbleSort(bubbleData)
    const bubbleEnd= new Date() - 0
    console.info('after bubble:', bubbleEnd - bubbleStart)

    const selectStart = new Date() - 0
    myNumbers.selectSort(selectData)
    const selectEnd = new Date() - 0
    console.info('after select:', selectEnd - selectStart)

    const quickStart = new Date() - 0
    myNumbers.quickSort(quickData)
    const quickEnd = new Date() - 0
    console.info('after quick sort:', quickEnd - quickStart)

    const arrTest = [34, 10, 63, 24, 50, 72, 96, 34, 34, 38, 8, 23, 54, 97, 84, 8, 32, 61, 34, 48, 17, 77, 21, 94, 87, 37, 88, 48, 7, 57, 92, 72, 42, 2, 62, 83, 78, 70, 24, 67, 18, 69, 84, 63, 87, 32, 65, 17, 68, 33, 54, 43, 83, 45, 12, 75, 0, 74, 65, 9, 32, 82, 18, 17, 21, 75, 98, 33, 23, 33, 5, 68, 62, 7, 34, 74, 14, 60, 44, 92, 30, 85, 94, 64, 82, 57, 94, 6, 77, 0, 29, 15, 87, 3, 40, 89, 25, 80, 10, 13]
    console.info('*****************Search*****************')
    console.info('seqSearch search 50 ', seqSearch(arrTest, 77))
    console.info('binSearch search 50', binSearch(arrTest, 77))
  </script>
</body>
</html>
